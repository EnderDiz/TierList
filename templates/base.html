<!-- templates/base.html -->
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>{% block title %}Tier List{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    {% block extra_css %}{% endblock %}
</head>
<body>
<header class="top-nav">
    <a class="logo" href="{{ url_for('tier_list') }}">TierLapo4ka.gg</a>
    <nav>
        <a href="{{ url_for('tier_list') }}">Тирлист</a>
        {% if current_user and current_user.is_admin %}
            <a href="{{ url_for('admin_dashboard') }}">Админ</a>
        {% endif %}
    </nav>
    <div class="user-block">
        {% if current_user %}
            <span>{{ current_user.username }}</span>
            <a href="{{ url_for('logout') }}">Выход</a>
        {% else %}
            <a href="{{ url_for('login') }}">Авторизация</a>
        {% endif %}
    </div>
</header>

<main class="page-container {% block page_class %}{% endblock %}">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="flash-container">
        {% for category, msg in messages %}
            <div class="flash {{ category }}">{{ msg }}</div>
        {% endfor %}
        </div>
    {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
</main>
</body>
</html>
